## Work Log Entry: 2025-11-13

Clock in: 3:31 p.m.
Clock out: 9:17 p.m. 

### Summary

Instant Oracle feed ingestion: Activated the previously stubbed pipeline so a single command ingests the promo JSONL, embeds every record, and writes deduplicated rows into vector_index with the right access controls.
LLM persona overhaul: Rebuilt Scoop’s system prompt end-to-end (LangChain chain, direct vLLM calls, fallback handler) so it introduces itself properly, respects context, and stays truthful when data is missing.
RAG retrieval upgrade: Boosted top‑k fan-out and added doc_id deduping so every unique promo SKU surfaces—even when multiple tiers share similar text.
Context polishing: Reformatted backend context to numbered entries, prompted Scoop to enumerate all documents, and enriched metadata (doc IDs, human-readable sources) so answers stay structured.
Frontend fit & finish: Synced Chainlit defaults with the new sales group, tightened error messaging, and improved citation rendering so sources appear as labeled bullets instead of raw table names.
Cleaner metadata: Updated ingestion to capture native source file names, re-ingested the feed, and confirmed Chainlit now cites 11-NOV2025 Half Gallons Tier 3.pdf (NOV_Tier3_750) instead of repeating PROMO_PDF_INGEST.
Deployment ready: Rebuilt/restarted backend and frontend containers multiple times, validated both /query and /query-lc, and confirmed Scoop delivers grounded answers for sales—including the full Tier 3 lineup.
