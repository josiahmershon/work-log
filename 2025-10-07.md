## Work Log Entry: 2025-10-07

Clock in: 10:01 a.m.
Clock out: 5:03 p.m.

### Summary


Serve Chainlit on port 8002 to avoid conflicts; document commands using flags/env (--port 8002 or CHAINLIT_PORT=8002).
Replace source excerpts with inline markdown links showing only the source filename.
Increase snippet length earlier, then simplify to link-only for cleaner UX.
Clean up accidental venv in frontend/ (remove bin/include/lib/lib64/pyvenv.cfg), recreate clean .venv.

Add sanitize_model_output() to strip chain-of-thought "think" and unsafe tags (script/style/iframe/object/embed); trim residual HTML.
Apply sanitizer to responses from POST /query and POST /query-precise.
Keep vLLM base URL unchanged (8000); no API schema changes.

Confirm UI sends DEFAULT_USER_GROUPS (defaults to engineering,executives) and retrieval enforces overlap with allowed_groups in ingest.py.
Test plan for this week
Start backend on 8001; Chainlit on 8002; submit prompts that previously leaked , ensure reasoning text is removed.
Verify sources render as filename inline links without excerpts.
Override groups via DEFAULT_USER_GROUPS="hr,management" and confirm access-filtered results.